---
format: 
  acm-pdf:
    keep-tex: true
  acm-html:
    keep-tex: true
    
bibliography: bibliography.bib

title: IS415 Report - Analysis of HDB Resale Prices 

author:
  - name: Chen Hao Xian
  - name: Tan Wen Yang
  - name: Pierre Jean Michel
    affiliation:
      name: Singapore Management University
      city: Singapore
      country: Singapore

# acm-specific metadata
acm-metadata:
  # comment this out to make submission anonymous
  # anonymous: true

  # comment this out to build a draft version
  final: true

  # comment this out to specify detailed document options
  # acmart-options: sigconf, review  

  # acm preamble information
  copyright-year: 2023
  # acm-year: 2023
  copyright: acmcopyright
  # doi: XXXXXXX.XXXXXXX
  # conference-acronym: "Conference acronym 'XX"
  # conference-name: |
  #  Make sure to enter the correct
  #  conference title from your rights confirmation emai
  # conference-date: June 03--05, 2018
  # conference-location: Woodstock, NY
  # price: "15.00"
  # isbn: 978-1-4503-XXXX-X/18/06

  # if present, replaces the list of authors in the page header.
  # shortauthors: Trovato et al.

  keywords:
    - HDB Prices
    - Linear Regression
    - Geographically Weighted Regression
    - Exploratory Data Analysis
  
  # if uncommented, this produces a teaser figure
  # 
  # teaser:
  #   image: sampleteaser
  #   caption: figure caption
  #   description: teaser description    

abstract: |
  **Abstract**
  This research aims to provide Singaporeans with a better understanding of the factors impacting the resale price of HDB flats, given the lack of accessible geographically weighted models. The study uses geographically weighted regression models to identify the most significant location-specific variables affecting resale prices, such as proximity to rail stations, hawker centers, preschools, mall, and etc. Furthermore, a user-friendly web application has been developed to estimate the resale value of HDB flats based on these variables. This tool will help homeowners, buyers, and policymakers make more informed decisions about the HDB resale market and ultimately lead to better outcomes.
---

# Motivation

With the price of HDB resale flats seeing tremendous growth over the years, and news such as "**HDB resale prices accelerate in Jan as million-dollar deals surge by 42%: SRX, 99.co"** [@Yong23] or **"HDB resale prices rise 2.3% in Q4, slowest increase in 2022"** [@Liew23], Singaporeans face the ever-growing concern as to whether or not they are paying a fair price for their flats. Given the lack of accessibility to geographically weighted models, users may find it difficult to assess what factors impact the resale price of an HDB flat; indeed, current estimators often only consider linear relationships between dependent and independent variables and fail to include geographical predictors in their models, which may limit the ability of one regression to explain HDB resale prices; however, geographically weighted regressions provide a more sophisticated way to model spatial heterogeneity by accounting for the unique characteristics of different neighborhoods.

Despite the advantages of geographically weighted regressions, they can be difficult for casual users without specialized skills to use effectively. Thus, our research comes in handy to give the right tools to Singaporeans as we aim to:

1.  Identify the most significant location-specific variables that affect the resale price of HDB flats in Singapore and quantify their impact on pricing using geographically weighted regression models. By analyzing the relationship between different amenities, such as rail stations, hawker centers, preschools, malls, and more. We aim to determine which factors have the most significant explanatory power on HDB resale prices and which do not. It will provide valuable insights into the most important factors that home buyers and sellers should consider when transacting in the HDB resale market.

2.  Develop a user-friendly web application that leverages geographically weighted regression models to estimate the resale value of HDB flats in Singapore for a given area. By inputting location-specific variables such as proximity to rail stations, hawker centers, preschools, malls, and etc. users can receive an estimated resale value for their property. It will provide users with a more accurate estimation of the value of their property, which can help them make better decisions when selling or buying an HDB flat.

3.  Promote transparency and reduce information asymmetry in the HDB resale market by providing an accessible and user-friendly tool for estimating resale values. By making geographically weighted regression models more accessible to the public, we hope to empower homeowners, buyers, and policymakers to make more informed decisions about the HDB resale market. It could ultimately lead to better outcomes for buyers and sellers and help policymakers make more informed decisions about housing affordability, urban planning, and education policy.

# Relevant Related Work

We will now discuss past research in the fields of hedonic housing price models and the importance of geography in these models. We shall review three pieces of work in the following paragraphs.

Our first article [@helbich2013], "Spatial Heterogeneity in Hedonic House Price Models: The Case of Austria." by M. Helbich, C. Leitner, and A. Kapusta, investigates the spatial heterogeneity of housing prices in Austria by using a hedonic pricing model. This statistical model estimates the value of a property based on its attributes, size, location, and other factors, such as proximity to different amenities (e.g., shopping malls and parks). In this paper, the writers apply geographically weighted regression (GWR) analysis to identify local spatial patterns of the housing market and examine the spatial variability of the hedonic price model coefficients. In their research, they deduce that the GWR approach provides more accurate predictions of housing prices than traditional regression methods, which assume spatial homogeneity of coefficients. Their study revealed that housing prices are significantly influenced by local characteristics of neighborhoods as accessibility, environment, and social amenities, to name a few. Their paper suggests that the spatial heterogeneity of housing prices is crucial to accurately model and analyze the housing market, especially in geographically diverse regions like Austria. In our case, we consider the paper's methodology and insights valuable for our research as we plan to investigate the spatial heterogeneity of housing prices in Singapore and identify local factors that affect house prices.

The second work we will analyze is the [HDB Resale Flat Prices](https://services2.hdb.gov.sg/webapp/BB33RTIS/) [@HDBapp] application developed by the Housing Development Board of Singapore. It provides a platform for users to access information on past resale transactions of Housing and Development Board (HDB) flats in Singapore. It allows users to search for resale transactions based on various criteria, such as location, flat type, and transaction period. This web application is the perfect example of what Singaporeans are missing, a model that explains the relevancy of locational factors on HDB resale price. Nonetheless, this web application still serves as a relevant solution that offers insights into the Singapore housing market and the attributes of HDB flats that may affect transaction prices. We believe there is room for improvement in the functionalities the platform offers. Through our research, we aim to explore ways to improve the current system, perhaps by incorporating additional data sources and applying advanced machine learning algorithms to provide an accurate and valuable explanatory model of housing prices.

The last piece of reading we shall discuss is the Medium article [@Kok21] "Predict the Selling Price of HDB Resale Flats" by Jim Meng Kok. It uses machine learning to predict the selling price of HDB resale flats in Singapore. The author uses a dataset of HDB resale transactions and applies a random forest regression model to predict the resale price of HDB flats based on various features, including location, size, age, and nearby amenities. The model achieves a high accuracy rate, indicating that machine learning methods can effectively predict housing prices. The article is relevant to the current research on housing prices in Singapore as it highlights the importance of utilizing machine learning techniques for predicting prices accurately. While the author uses Python in his analysis, we still consider that the insights provided in the article can be valuable for any researcher planning to use other programming languages, as R. The findings suggest that location and amenities play a significant role in determining housing prices, which is consistent with previous research on the topic.

In conclusion, this section has reviewed three pieces of research related to hedonic housing price models and the importance of geography in these models. Overall, these studies emphasize the need to account for location and amenities when modeling and analyzing housing prices and highlight the potential of advanced techniques like geographically weighted regression and machine learning to provide more accurate predictions.\

# **Design Framework**

The design of our Shiny App tries to follow the data visualization general guidelines suggested by Schneiderman's mantra [@shneiderman]: Overview First, Zoom and Filter, Details on Demand. It consists of Eight Different Tabs: About Us, EDA, CorrPlot, Multiple Linear Regression, Geographically Weighted Regression, Predicting, Interactive Map and Upload File \[Figure 1\] @fig-1. This Navigation Bar is featured throughout all the Shiny App at all time. Each of the Features are place in the order where the user is expected to navigate in. Each of the Tab Features is own unique set of features, however there are 3 major views, map, graphic and tables.

About Us Tab ([@fig-1]) is an overview of application and features no interactivity.

The EDA Tab ([@fig-2]) features an overview of the entire data set that is loaded in the Shiny Model. A Histogram is given to give an overview of selected variable of the data set. Key Summaries is also provide important information that the user might need, such as the summary of the data and the Top 10 towns. This information is given in a form of a table. Finally, the entire data is given in the form of the table for the user to view the entire data. The Shiny Application provide a sidebar, where all the drop downs form are located. We namely allow the user to modify the Start Date, End Date and the Room Type. For the Histogram, the user is able to select the number of bins, the color of the Fill and the data to be displayed.

The Corr Plot Tab ([@fig-3]) features a Graphic Plot of Correlation Plot of the variables. The Correlation Plot is calculated based on the columns of the data set.

The Multiple Linear Regression Tab ([@fig-4]) features graphics of the Linear Regression Model. It also features all the various test to determine the validity of the Linear Regression Model, such as Linearity and Moran I for the Spatial Model. All the outputs are featured as a graphic with explanation on what to look out for. The Side Bar Features a multi select drop down of all the dependent variables of the data set to build the Linear Regression Model. Changing the values in the Multi Select will update all the graphics with the exception of Moran I as it is computationally intensive. As weight matrix is needed to calculate Moran I, as many variables of dnearneight() and nb2listw() function is exposed [@spdep].

The Geographically Weighted Regression Tab ([@fig-5]) features graphics of the Geographically Weighted Regression and the explanation needed. The current graphics of the GWR Model is not computed re-actively as the the computation of the bandwidth and the model is computationally intensive. The side bar features as many variables of bw.gwr() and gwr.basic() function is exposed [@GWmodel]. Two buttons named 'Generate GWR' and 'Use Computed BandWidth' can be used to render the graphic re-actively but it will take a long time to load.

The Predict Tab ([@fig-6]) features a simple graphic of the predict values. The side bar provides the ability to toggle between the GWR Model or the Linear Regression Model. The GWR Model requires a Spatial Model to be uploaded, while the Regression Model requires input on a text box, separated by comma.

The Interactive Map Tab ([@fig-7]) features an interactive Map of all the Points in the data set. The user can filter out the Start Date, End Date and Room Type of the data set to display. Any columns in the data set can be displayed on the interactive map and some options of the well know colorbrewer [@colorbrewer] is given for the user to select. The user can select the classification methods of the points from a drop down, based on attributes available from tmap package [@tmap]. The tab is place towards the end because the interactive map is not the main objective of this project but provided the user to gain a better understanding of the data.

The Upload File Tab ([@fig-8]) features a Table that is only displayed when the user upload a file. The user can upload a file from the sidebar. This tab is placed at the end, as the user should gain a better understanding of the ability of our application attempting to load their own data.

A combination of these three views along with the ability to build their own model based on their own judgement should give the user a great control over the data and more power to analyze and explore.

# **Case Study of HDB Resale Flats**

Singapore, an emerging economy with a thriving real estate market, boasts a unique housing landscape that has drawn attention worldwide. Indeed, Singapore is one of the few city-states in the world, making it a compact and densely populated urban environment. This unique characteristic could already be the foundation of a fascinating use case for our web app. Yet, what makes Singapore housing so special is the government's active role in shaping the market, which has led to the development of the Housing and Development Board (HDB) flats -- an essential feature of the Singaporean housing landscape. 

Since the 1960s, the Singaporean government has heavily involved itself in public housing, and its policies have gained widespread recognition for their success. The country's housing policies have been instrumental in promoting homeownership and providing affordable housing for its citizens. These flats, built and managed by the government, house over 80% of the population [@Harsh22], making Singapore's public housing program one of the most successful in the world. The HDB flats, however, are subject to unique rules and regulations that distinguish them from other housing solutions (e.g., private housing), such as restrictions on resale and renovation. Thus, understanding the factors that drive the prices of HDB resale flats is of great interest. In this context, geographically weighted regression analysis is an ideal method for examining the spatial heterogeneity of HDB resale prices and identifying the local factors that influence them. By considering the specific characteristics of each HDB estate and the surrounding neighborhoods, we can better understand how various factors, such as distance to amenities, transport links, and schools, affect the prices of HDB resale flats. With our web app, policymakers, investors, and residents can use these insights to make more informed decisions about the HDB market.

To analyze the spatial heterogeneity of HDB prices in Singapore, we will utilize a variety of variables that capture different aspects of the flats and their surrounding areas. These variables include AREA_SQM, LEASE_YRS, STOREY_ORDER, and proximity to various amenities such as CBD, childcare, eldercare, hawker centers, MRT stations, parks, top primary schools, malls, supermarkets, clinics, pharmacies, tourist attractions, and libraries. We have sourced this data from websites such as data.gov.sg, Wikipedia, LTA Data Mall, and the MOE website, and additionally used the OneMap API to retrieve and geocode data. Some data preprocessing was necessary as geocoding aspatial fields to convert addresses into geographic coordinates. Using geographically weighted regression analysis on this rich dataset, we can identify local factors that influence the prices of HDB resale flats in different regions of Singapore. 

For the sake of limiting the computing power required to run our analysis, we shall only focus on HDB resale flat transactions from 2021 to 2022. This can be done at the EDA Tab, where the user will filter out the data into the correct time frame. It would appears that the PRICE variable is left-skewed base on the Histogram. Altering the display variable to LEASE_YRS will give a different picture, where the data is right-skewed. Key Summaries of the variable such as the median and mean will be displayed. The mean of the variable based on towns will be displayed as well. From the PRICE variable, the mean is found to be 526124 and the Central Area has the highest mean PRICE.

The Multiple Linear Regression (MLR) model reveals that most variables have a statistically significant effect on housing prices in Singapore ([@fig-9]). The intercept is estimated to be 1.607e+05, indicating that a house with all predictor variables set to zero should cost at least **S\$160,700**. The variables that positively impact housing prices are AREA_SQM, LEASE_YRS, STOREY_ORDER, PROX_PARK, NUM_KNDRGTN, NUM_ISP_CLIN, and NUM_REGISTERED_PHARM, while the variables with a negative impact are PROX_CBD, PROX_HAWKER, PROX_MRT, PROX_MALL, PROX_SPRMKT, PROX_PHARMACY, and PROX_TOURISM. The variable PROX_CLINIC has a p-value of 0.47737 and is not statistically significant at a 5% error level. Meanwhile AGE and PROX_TOPPRISCH since to return a null result. The R-squared value of 0.7381 indicates that the model's predictor variables can explain 73.81% of the variance in housing prices. The F-statistic of 3171 with a p-value of \< 2.2e-16 suggests that the model's overall fit is significant.

We must however understand that Linear Regression Model has a number of key assumptions namely: *Linearity, Normality, Homoscedasticity and Independence* [@ernst2017]*.* We have conducted all of this test and have determine that our model satisfy this criteria.

Independence Test is already performed at in the Corr Plot Tab ([@fig-3]). All variables that are correlated should be remove already. We have kept all the variables in our default model for demonstration purposes however.

Linearity Test ([@fig-10]) performed have shown that LEASE_YRS, AGE, PROX_MRT and PROX_TOPPRISCH have a VIF more than 10

Homoscedasticity Test ([@fig-11]) performed have shown that most of the residual is scattered around the line, however there are points that deviate significantly from the line.

Normality Test ([@fig-12]) performed have shown that most of the residual resembles a Normal Distribution Curve.

Furthermore, in this study, we conducted a global Moran's I test to assess the presence of spatial autocorrelation in housing prices in Singapore. Our results showed a Moran I statistic standard deviate of 1122.3 and a p-value smaller than 2.2e-16 ([@fig-13]), indicating strong evidence of spatial autocorrelation in resale HDB flats. Specifically, our observed Moran I was 0.217. It is significantly higher than the expected value under spatial randomness. It demonstrates the significance of spatial autocorrelation in housing prices in Singapore, and we should consider it for several reasons.

First, it suggests that housing prices in some regions of the city-state are not independent and that the prices of nearby properties may influence resale value. It means that traditional regression techniques, which assume independence between observations, may need to be revised for modeling housing prices in Singapore.

Moreover, spatial autocorrelation can reveal the underlying spatial structure of housing prices in Singapore, including spatial patterns and trends. Understanding these patterns can provide valuable insights into the factors that drive housing prices in different parts of the country. Empirical evidence also supports the relevance of spatial autocorrelation in housing prices. For example, a study by Wong and Leung [@chunwah2011] found significant spatial autocorrelation in housing prices in Hong Kong and suggested that spatial models, such as geographically weighted regression, could improve the accuracy of price predictions.

While the MLR model provides valuable insights into the relationship between the predictor variables and housing prices, it does not consider the spatial variation in the data. Therefore, it may need to capture the heterogeneity observed in different regions of Singapore fully. To address this issue, we will employ a geographically weighted regression (GWR) model, allowing us to examine how the relationship between the predictor variables and housing prices varies spatially across different regions of Singapore.

A GWR Model is build using the exact same data set which result in a R-Squared value of -22174.95 ([@fig-14]). This is likely due to the fact that the model used was not fine tuned at all. When the same data set is used by Megan and Aisyah, such model produced a R-squared value of 0.9 and greater [@sim23] [@Aisyah]. This shows that the model has the potential to be significantly better than the Regression Model when proper tuning is performed.

This case study have shown that with the available data, the user is able to gain insights on the data through the EDA. The user is able to make use of the interactive nature of the Shiny Application to focus on a specific variable of interest and make a judgement on whether the variable should be included in the model. The user can reference the CorrPlot and the various Linear Model Tests to gain insights of the relationship between the variables to choose the variables used in the Linear Regression Model and Geographically Weighted Model. This will definitely encourage the user to explore the data and fine tune the Model for more in depth exploration and Analysis.

# **Conclusion**

We have used geographically weighted regression models to explore the spatial variation of HDB resale prices in Singapore and to identify the location-specific factors that influence them. We have found that the distance to various amenities, such as rail stations, hawker centers, preschools, malls, and more, have different effects on HDB resale prices depending on the location and that some factors are more relevant than others in accounting for the spatial heterogeneity of resale prices. We have also created interactive maps to visualize the spatial patterns of these factors and their impacts on pricing. Moreover, we have developed a user-friendly web application that uses geographically weighted regression models to allow users to estimate the fair value of any HDB flat based on its location and features. Our web application can assist users in making informed choices when buying or selling HDB flats in the resale market and also enhance their understanding of the spatial dynamics of HDB resale prices in Singapore.

# **Potential Future Work**

Our Model can be expanded in number of key areas as the potential for the application to grow is large.

We can expand the scope of the project to encompass the Private Properties and the introduction of new geographical variable as well. The addition of Private Properties prices will give a more complete view of the housing situation in Singapore, which can result in a much better model. The addition of geographical data as well can also be critical as geographical data of interesting variables such as Hospital, Tourist Attraction has not be included in the loaded model. The inclusion of such geographical data into the data set can give more insights to the user as it may review surprising relationship.

We can also expand the number of models that the project uses as well. In this project only Linear Regression Model and Geographically Weighted Regression is used. Models such as Geographically Weighted Regression Trees can be introduced for the user to further compare and contrast. Some of these possible enhancements could be taken up in the near future.

# Appendices

## Bibliography

\bibliographystyle{ACM-Reference-Format}

\bibliography{bibliography.bib}

## Figures

![About Us Tab](images/Screenshot%202023-04-14%20at%2011.08.12%20PM.png){#fig-1}

![EDA Tab](images/Screenshot%202023-04-14%20at%2011.34.06%20PM.png){#fig-2}

![CorrPlot Tab](images/Screenshot%202023-04-14%20at%2011.41.50%20PM.png){#fig-3}

![MLR Tab](images/Screenshot%202023-04-14%20at%2011.42.39%20PM.png){#fig-4}

![GWR Tab](images/Screenshot%202023-04-14%20at%2011.57.14%20PM.png){#fig-5}

![Predicting Tab](images/Screenshot%202023-04-15%20at%2012.01.01%20AM.png){#fig-6}

![Interactive Map](images/Screenshot%202023-04-15%20at%2012.06.50%20AM.png){#fig-7}

![Upload Tab](images/Screenshot%202023-04-14%20at%2011.20.47%20PM.png){#fig-8}

![Linear Regression Score](images/Screenshot%202023-04-15%20at%2010.52.59%20PM.png){#fig-9}

![Linearity Test](images/Screenshot%202023-04-15%20at%2011.02.35%20PM.png){#fig-10}

![Homoscedasticity (Non Linearity)](images/Screenshot%202023-04-15%20at%2011.02.44%20PM.png){#fig-11}

![Normal Distribution of LM Model](images/Screenshot%202023-04-15%20at%2011.02.51%20PM.png){#fig-12}

![Moran I Test](images/Screenshot%202023-04-15%20at%2011.00.00%20PM-01.png){#fig-13}

![GWModel](images/Screenshot%202023-04-15%20at%2011.27.38%20PM.png){#fig-14}
